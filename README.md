# Time-Series-for-machine-learning_Polytech
Проект содержит исходный код анализа данных показателей датчиков  телеметрии УЭЦН в нефтегазовой промышленности и подготовки временных рядов для дальнейшего машинного обучения. 

Основной проект: Применение алгоритмов машинного обучения для поиска аномальных измерений УЭЦН нефтегазовых скважин
Описание предметной области: 
Нефтяная и газовая промышленность РФ — основные секторы топливно-энергетического комплекса страны. В рамках предметной области ведётся интенсивная разработка месторождений и используется большое количество скважин, что требует качественного контроля эффективности работы большого количества погружного оборудования. 
В настоящее время в нефте- и газодобывающей отрасли актуальны вопросы оптимизации технической эксплуатации насосного оборудования.
Одна из насущных задач – предиктивный анализ состояния УЭЦН (установок электроцентробежных насосов) с использованием методов машинного обучения на основе больших массивов данных телеметрии для своевременного обнаружения отклонений в работе оборудования и снижения вероятностей аварийных остановок. 

Цель основного проекта — прогнозирование временных рядов по данным телеметрии и выявление аномалий в массиве данных.

Для достижения поставленной цели были решены следующие задачи:
1) Проведен анализ витрины данных (датасета) телеметрии;
2) Выбраны целевые параметры телеметрии, для которых производится прогнозирование и выявление аномалий;
3) Построены графики временных рядов для целевых параметров;
4) Проведено прогнозирование временных рядов для критически важных целевых параметров с помощью нескольких моделей прогноза;
5) Посчитаны метрики качества работы прогнозных моделей;
6) Проведено обнаружение аномалий на одномерных временных рядах

Задачи, относящиеся к проекту Time Series for machine learning_Polytech:
1) Анализ витрины данных (датасета) телеметрии;
2) Отбор целевых параметров телеметрии;
3) Построение графиков временных рядов для целевых параметро;
4) Передача результатов команде для дальнейшего построения моделей прогноза и их обученияю

Инструменты:
• Google Collab
• Библиотеки pandas, numpy, matplotlib
• Модуль datetime

В ходе выполнения проекта были выполнены следующие задачи:
1) Анализ данных телеметрии
В работе использован сокращенный набор данных по эксплуатации погружного оборудования фонда нефтяных скважин (17 скважин).
Характеристики данных: 150 тысяч записей за два календарных месяца (июнь — июль 2019 года), выровненные по временной оси данные телеметрии с частотой дискретизации 5 минут.
Данные получены в виде CSV файлов.
2) Подготовка данных для построения графиков: сформированы датасеты с данными показателей, удалены лишние столбцы, сформирован датасет только с необходимыми для построения графиков данными: номером насоса, временным показателем. 
3) Для построения моделей использовались 6 независимых исходных переменных – телеметрических показателей, отображающих работу насосного оборудования. Также использовались идентификатор номера насоса и колонка времени изменений. 

Телеметрические показатели:
Ток фазы A двигателя, А
Средняя скорость изменения загрузки двигателя час, %/час;
Средняя скорость изменения давления в коллекторе измерительной установки в часовом диапазоне усреднения, МПа/час;
Наработка двигателя с момента последнего включения, сек;
Значение коэффициента мощности;
Загрузка двигателя, %

4) Для реализации построения графиков были использованы 2 функции. Первая функция принимает индекс (номер насоса) и готовит к передаче во вторую функцию массивы данных для построения 6-ти графиков с телеметрическими показателями. Построение происходит за счет вызова второй функции, принимающей массив данных (номер насоса, названиие столбца с телеметрическим показателем(кодировка), наименование телеметрического показателя для названия сохраняемого рисунка графика, наименование оси ординат). Таким образом, реализация построения графиков осуществляется путем запуска цикла по индексам (номерам) каждого насоса, для каждого насоса подготавливается по 6 графиков с телеметрическими показателями. Графики автоматически сохраняются в созданные папки для каждого насоса с корректными названиями рисунков (реализовано с помощью makedirs, savefig.

После обработки полученных данных получены временные ряды телеметрический показателей:
![Рисунок1](https://github.com/KarinaDmitrievna/Time-Series-for-machine-learning_Polytech/assets/155770701/24b9a33b-b56f-4f16-aa49-9743ae4c4a31)

5) Выгрузить архив с графиками можно с помощью shutil, import files)









